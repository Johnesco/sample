#!/bin/bash
# Sample â€” project-specific test configuration
# Sourced by the generic testing framework (tools/testing/*.sh)
#
# PROJECT_DIR is set by the framework before sourcing this file.

# Project identity
PROJECT_NAME="sample"

# Primary engine (Inform 7 / Glulx)
PRIMARY_ENGINE_NAME="glulxe"
PRIMARY_ENGINE_PATH="$HOME/glulxe/glulxe"
PRIMARY_ENGINE_SEED_FLAG="--rngseed"
PRIMARY_GAME_PATH="$PROJECT_DIR/sample.ulx"
PRIMARY_WALKTHROUGH="$PROJECT_DIR/tests/inform7/walkthrough.txt"
PRIMARY_OUTPUT_FILE="$PROJECT_DIR/tests/inform7/walkthrough_output.txt"
PRIMARY_SEEDS_KEY="glulxe"

# Score extraction patterns
SCORE_REGEX='scored \K[0-9]+'
SCORE_FALLBACK_REGEX='[0-9]+(?= out of a possible [0-9]+)'
MAX_SCORE_REGEX='possible \K[0-9]+'
PASS_THRESHOLD=10
DEFAULT_MAX_SCORE=10

# Diagnostic patterns
DEATH_PATTERNS='you have died'
WON_PATTERNS='You have won'

# RegTest config
REGTEST_FILE="$PROJECT_DIR/tests/sample.regtest"
REGTEST_ENGINE="$HOME/glulxe/glulxe"
REGTEST_GAME="$PROJECT_DIR/sample.ulx"
